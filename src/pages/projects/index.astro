---
import Pattern from "@/components/ui/pattern.astro";
import PageLayout from "@/layouts/page-layout.astro";

import Box from "@/components/box/index.astro";
import BoxHeader from "@/components/box/header.astro";
import BoxTitle from "@/components/box/title.astro";
//import { getCollection } from "astro:content";
import ProjectItem from "@/components/sections/projects/project-item.astro";

const projects = [
{
    id: "browser-automation-staghand-example-2",
    collection: "projects" as const,
    data: {
      type: "side" as const,
      description: "Multi-step form automated tests using Staghand. Playground 2",
      name: "Multi-step form automated tests",
      technologies: ["Staghand", "Playwright", "ReactJS", "Typescript", "TailwindCSS"],
      sourceCode: "https://github.com/HawiCaesar/multi-step-form-xp",
      preview: "https://github.com/HawiCaesar/multi-step-form-xp"
    }
  },
{
    id: "browser-automation-staghand-example-1",
    collection: "projects" as const,
    data: {
      type: "side" as const,
      description: "Experimenting with browser automation using Staghand. Playground 1",
      name: "Browser Automation with Staghand",
      technologies: ["Staghand", "Playwright", "Node.js", "Typescript"],
      sourceCode: "https://github.com/HawiCaesar/stagehand-example-claudeai/",
      preview: "https://github.com/HawiCaesar/stagehand-example-claudeai"
    }
  },
  {
    id: "internationalization",
    collection: "projects" as const,
    data: {
      type: "side" as const,
      description: "An introduction into internationalization.",
      name: "Internationalization",
      sourceCode: "https://github.com/HawiCaesar/localization-playground",
      technologies: ["React", "Node.js", "Express", "i18next"],
      preview: "https://www.youtube.com/watch?v=kvu8M1_N5GE",
    }
  },
  {
    id: "payment-confirmation-mpesa",
    collection: "projects" as const,
    data: {
      type: "side" as const,
      description: "A simple payment confirmation system using M-Pesa API.",
      name: "Payment Confirmation with M-Pesa",
      technologies: ["SOAP-XML", "NGINX"],
      sourceCode: "https://github.com/HawiCaesar/pay_confirmation",
      preview: "https://github.com/HawiCaesar/pay_confirmation"
    },
  }
];

const playgroundProjects = []

//const coreProjects = projects.filter(project => project.data.type === "core");
const sideProjects = projects.filter(project => project.data.type === "side");
---

<PageLayout
  description="A collection of things I've built, full-stack apps, experiments, and side projects."
  title="My Projects"
>
  <!-- <Pattern />
  <Box>
    <BoxHeader>
      <BoxTitle> Built to Last </BoxTitle>
    </BoxHeader>

    {coreProjects.map(item => <ProjectItem project={item} />)}
  </Box> -->

  {
    sideProjects.length > 0 && (
      <Pattern />
      <Box>
        <BoxHeader>
          <BoxTitle>In the moonlight</BoxTitle>
        </BoxHeader>
        {sideProjects.map(item => <ProjectItem project={item} />)}
      </Box>
    )
  }
 
  <Pattern />
</PageLayout>
